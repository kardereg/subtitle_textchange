 <!DOCTYPE html PUBLIC "-//W3C//DTD Xhtml 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http:www.w3.org/1999/xhtml">
     <head>
     <title>DOM</title>
     <meta http-equiv="content-type" content="text/html;charset=iso-8859-1" />

    <script language="JavaScript">
     <!-- Begin
       function newbg(thecolor)
      {
     document.bgColor=thecolor;
     document.getElementById("mytextarea").value="your another text for the textarea";
      }
      
    function testResults()
    {
    //document.getElementById("mytextarea").style="background:red;"; //Change the background color to red.
    //document.getElementById("mytextarea").value="your another text for the textarea";
    let myText = document.getElementById("mytextarea").value;
    let lines = myText.split("\n");
      
    // parse phrases
    let newText = "";
    let caption_sequence = 1;
    for (i = 0; i < lines.length; i++) {
      let line = lines[i];
      let next_line = null;
      if (i < lines.length) {
        next_line = lines[i+1];
      };
        
  
      //if (line.indexOf('@') == 1) {
      //  // start of e.g. time section, handled in nex loop
      //  break;
      //} else {
      //  // phrase
      //  phrase.push(line);
      //}
      
      //skip line if it's a caption_sequence number
      let regexp = /^\d+\s*$/;
      if (!(line.search(regexp))) {
        let regexp = /^(\d+\:\d+)/;
        if (!(next_line.search(regexp))) {
          //alert(line + '\n' + next_line);
          continue;
        }
      }
      
      //if line is a time line then insert a caption sequence line before it
      regexp = /^(\d+\:\d+)/;
      if (!(line.search(regexp))) {
        line = caption_sequence + "\n" + line;
        caption_sequence += 1;
      }      
      newText += line + "\n";
      
    }

    
    document.getElementById("mytextarea").value = newText;  
    }
      
      

     //  End -->
     </script>
      <body>
    <h3>DOM Assignment Examples</h3>
     <div>
    <form>
      <h4>Change background color to:</h4>
     <input type="radio" value="White" onclick="newbg('white');">white<br/>
     <input type="radio" value="Blue" onclick="newbg('blue');">Blue<br />
     <input type="radio" value="Beige" onclick="newbg('Beige');">Beige<br />
     <input type="radio" value="Yellow" onclick="newbg('yellow');">Yellow<br />
    </form>
   </div>
   <br />
    <br />
    <br />
     <h4>add text to this box change the text below:</h4>
    <TEXTAREA id="mytextarea" NAME="" ROWS="10" COLS="40" onBlur="blurHandlerRouting">
    You will change this text
  </TEXTAREA> <br />
  <INPUT TYPE="button" NAME="button" Value="Click" onClick="testResults()">
  
   </body>


  </html>